---
// StdVerRow 组件用于在 StdVerTable 中显示一行内容
// 左边是通过 slot 传入的内容，右边是版本标记
export interface Props {
    since?: string;
    until?: string;
}

const { since, until } = Astro.props;
---

<tr class="stdver-row">
    <td class="stdver-content">
        <slot />
    </td>
    <td class="stdver-version">
        <div class="stdver-labels">
            {since && (
                <div class="stdver-label stdver-since">since C++{since}</div>
            )}
            {until && (
                <div class="stdver-label stdver-until">until C++{until}</div>
            )}
        </div>
    </td>
</tr>

<style>
    .stdver-row td {
        padding: 12px 16px;
        border-bottom: 1px solid var(--border-color, #e1e5e9);
        vertical-align: top;
    }

    .stdver-row:last-child td {
        border-bottom: none;
    }

    .stdver-content {
        line-height: 1.6;
        width: auto;
    }

    .stdver-version {
        white-space: nowrap;
        width: 1%;
        min-width: 140px;
        text-align: right;
    }

    .stdver-labels {
        display: flex;
        flex-direction: column;
        gap: 4px;
        align-items: flex-end;
    }

    .stdver-label {
        font-size: 12px;
        font-weight: 500;
        padding: 3px 8px;
        border-radius: 4px;
        white-space: nowrap;
        display: inline-block;
    }

    .stdver-since {
        color: #059669;
        background-color: #f0fdf4;
        border: 1px solid #10b98180;
    }

    .stdver-until {
        color: #dc2626;
        background-color: #fef2f2;
        border: 1px solid #ef444480;
    }

    .stdver-row:hover {
        background-color: #f9fafb;
    }

    /* Dark theme support */
    :root[data-theme="dark"] .stdver-row td {
        border-bottom-color: #374151;
    }

    :root[data-theme="dark"] .stdver-row:hover {
        background-color: #1f2937;
    }

    :root[data-theme="dark"] .stdver-since {
        color: #34d399;
        background-color: #042f2e;
        border-color: #10b98180;
    }

    :root[data-theme="dark"] .stdver-until {
        color: #f87171;
        background-color: #7f1d1d;
        border-color: #ef444480;
    }
</style>
